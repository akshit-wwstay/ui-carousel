"use strict";!function(i){i.module("ui.carousel.config",[]).value("ui.carousel.config",{debug:!0}),i.module("ui.carousel.providers",[]),i.module("ui.carousel.controllers",[]),i.module("ui.carousel.directives",[]),i.module("ui.carousel",["ui.carousel.config","ui.carousel.directives","ui.carousel.controllers","ui.carousel.providers"])}(angular),angular.module("ui.carousel.controllers").controller("CarouselController",["$scope","$element","$timeout","$q","Carousel","$window",function(i,e,s,o,t,l){var n=this;this.$onInit=function(){n.initOptions(),n.initRanges(),n.setProps(),n.setupInfinite()},this.initOptions=function(){n.options=angular.extend({},t.getOptions()),void 0!==n.initialSlide&&(n.options.initialSlide=n.initialSlide),void 0!==n.fade&&(n.options.fade=n.fade),void 0!==n.autoplay&&(n.options.autoplay=n.autoplay),void 0!==n.autoplaySpeed&&(n.options.autoplaySpeed=n.autoplaySpeed),void 0!==n.cssEase&&(n.options.cssEase=n.cssEase),void 0!==n.speed&&(n.options.speed=n.speed),void 0!==n.infinite&&(n.options.infinite=n.infinite),void 0!==n.arrows&&(n.options.arrows=n.arrows),void 0!==n.dots&&(n.options.dots=n.dots),void 0!==n.visiblePrev&&(n.options.visiblePrev=n.visiblePrev),void 0!==n.visibleNext&&(n.options.visibleNext=n.visibleNext),n.options.fade?(n.options.slidesToShow=1,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0):(n.show&&(n.options.slidesToShow=n.show),n.scroll&&(n.options.slidesToScroll=n.scroll))},this.initRanges=function(){n.slides||(n.slides=[]),n.isCarouselReady=!1,n.isTrackMoving=!1,n.track=e.find(".track"),n.width=1,n.currentSlide=n.options.initialSlide,n.trackStyle={},n.slideStyle={},n.isVisibleDots=!1,n.isVisiblePrev=n.options.visiblePrev,n.isVisibleNext=n.options.visibleNext,n.isClickablePrev=!1,n.isClickableNext=!1,n.animType=null,n.transformType=null,n.transitionType=null},this.initUI=function(){console.log("element width",e[0].clientWidth),n.width=e[0].clientWidth,n.initTrack(),s(function(){n.updateItemStyle()},200)},this.updateItemStyle=function(){n.width<768&&(n.options.slidesToShow=1,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=768&&n.width<=1279&&(n.options.slidesToShow=2,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=1280&&(n.options.slidesToShow=3,n.options.slidesToScroll=3,n.isVisiblePrev=!1,n.isVisibleNext=!1),n.itemWidth=n.width/n.options.slidesToShow,n.slideStyle={width:n.itemWidth+"px"}},this.initTrack=function(){n.width<768&&(n.options.slidesToShow=1,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=768&&n.width<=1279&&(n.options.slidesToShow=2,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=1280&&(n.options.slidesToShow=3,n.options.slidesToScroll=3,n.isVisiblePrev=!1,n.isVisibleNext=!1);var i=n.width/n.options.slidesToShow,e=i*n.slidesInTrack.length;n.trackStyle.width=e+"px",n.slideHandler(n.currentSlide).finally(function(){n.isCarouselReady=!0,n.options.fade||n.refreshTrackStyle(),n.onInit&&n.onInit()}).catch(function(){})},this.next=function(){if(!n.isClickableNext)return!1;var i=n.getIndexOffset(),e=0===i?n.options.slidesToScroll:i;n.slideHandler(n.currentSlide+e).catch(function(){})},this.prev=function(){if(!n.isClickablePrev)return!1;var i=n.getIndexOffset(),e=0===i?n.options.slidesToScroll:n.options.slidesToShow-i;n.slideHandler(n.currentSlide-e).catch(function(){})},this.getIndexOffset=function(){var i=n.slides.length%n.options.slidesToScroll!==0,e=i?0:(n.slides.length-n.currentSlide)%n.options.slidesToScroll;return e},this.movePage=function(i){var e=n.options.slidesToScroll*i;n.slideHandler(e).catch(function(){})},this.slideHandler=function(i){if(!n.slides)return o.reject("Carousel not fully setup");if(n.isTrackMoving)return o.reject("Track is moving");var e=n.slides.length,t=n.options.slidesToShow;if(t>=e)return n.correctTrack(),o.reject("Length of slides smaller than slides to show");var l=i,r=null;if(r=0>l?e%n.options.slidesToScroll!==0?e-e%n.options.slidesToScroll:e+l:l>=e?e%n.options.slidesToScroll!==0?0:l-e:l,n.onBeforeChange&&n.onBeforeChange({currentSlide:n.currentSlide,target:r}),n.options.fade)return n.currentSlide=r,s(function(){n.autoplayTrack(),n.onAfterChange&&n.onAfterChange({currentSlide:n.currentSlide})},n.options.speed),o.when("Handler fade");n.width<768&&(n.options.slidesToShow=1,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=768&&n.width<=1279&&(n.options.slidesToShow=2,n.options.slidesToScroll=1,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0),n.width>=1280&&(n.options.slidesToShow=3,n.options.slidesToScroll=3,n.isVisiblePrev=!1,n.isVisibleNext=!1);var a=n.width/n.options.slidesToShow,c=-1*r*a;return n.options.infinite&&(c=-1*(l+t)*a),n.isTrackMoving=!0,n.moveTrack(c).then(function(){n.isTrackMoving=!1,n.currentSlide=r,n.autoplayTrack(),r!==l&&n.correctTrack(),n.options.infinite||(0===n.currentSlide?(n.isClickablePrev=!1,n.isClickableNext=!0):n.currentSlide===n.slidesInTrack.length-n.options.slidesToShow?(n.isClickableNext=!1,n.isClickablePrev=!0):(n.isClickablePrev=!0,n.isClickableNext=!0)),s(function(){n.onAfterChange&&n.onAfterChange({currentSlide:n.currentSlide})},200)})},this.moveTrack=function(i){var e=o.defer();return n.trackStyle[n.animType]=n.options.vertical===!1?"translate3d("+i+"px, 0px, 0px)":"translate3d(0px, "+i+"px, 0px)",s(function(){e.resolve("Track moved")},n.options.speed),e.promise},this.correctTrack=function(){if(n.options.infinite){var i=0;n.slides.length>n.options.slidesToShow&&(i=-1*(n.currentSlide+n.options.slidesToShow)*n.itemWidth),n.trackStyle[n.transitionType]=n.transformType+" 0ms "+n.options.cssEase,n.isTrackMoving=!0,s(function(){n.trackStyle[n.animType]="translate3d("+i+"px, 0, 0px)",s(function(){n.refreshTrackStyle(),n.isTrackMoving=!1},200)})}},this.refreshTrackStyle=function(){n.trackStyle[n.transitionType]=n.transformType+" "+n.options.speed+"ms "+n.options.cssEase},this.autoplayTrack=function(){n.options.autoplay&&(n.timeout&&s.cancel(n.timeout),n.timeout=s(function(){n.next(),s.cancel(n.timeout),n.timeout=null},n.options.autoplaySpeed))},this.getSlideStyle=function(i){var e=n.slideStyle;if(n.options.fade){var s=-1*i*n.itemWidth,o={position:"relative",top:"0px",left:s+"px","z-index":i===n.currentSlide?10:9,opacity:i===n.currentSlide?1:0};i>=n.currentSlide-1&&i<=n.currentSlide+1&&(o.transition="opacity 250ms linear"),e=angular.extend(e,o)}return e},this.setupInfinite=function(){var i=n.slides.length,e=n.options.slidesToShow,s=angular.copy(n.slides);if(n.options.infinite&&n.options.fade===!1&&i>e){for(var o=e,t=0;o>t;t++)s.push(angular.copy(n.slides[t]));for(var l=i-1;l>=i-e;l--)s.unshift(angular.copy(n.slides[l]))}n.slidesInTrack=s},this.getDots=function(){if(!n.slides)return[];for(var i=Math.ceil(n.slides.length/n.options.slidesToScroll),e=[],s=0;i>s;s++)e.push(s);return e},this.setProps=function(){var i=document.body.style;void 0!==i.OTransform&&(n.animType="OTransform",n.transformType="-o-transform",n.transitionType="OTransition"),void 0!==i.MozTransform&&(n.animType="MozTransform",n.transformType="-moz-transform",n.transitionType="MozTransition"),void 0!==i.webkitTransform&&(n.animType="webkitTransform",n.transformType="-webkit-transform",n.transitionType="webkitTransition"),void 0!==i.msTransform&&(n.animType="msTransform",n.transformType="-ms-transform",n.transitionType="msTransition"),void 0!==i.transform&&n.animType!==!1&&(n.animType="transform",n.transformType="transform",n.transitionType="transition"),n.transformsEnabled=!0},this.refreshCarousel=function(){n.slides&&n.slides.length&&n.slides.length>n.options.slidesToShow?(n.isVisibleDots=!0,n.isVisiblePrev=!0,n.isVisibleNext=!0,n.isClickablePrev=!0,n.isClickableNext=!0):(n.isVisibleDots=!1,n.isVisiblePrev=n.options.visiblePrev||!1,n.isVisibleNext=n.options.visibleNext||!1,n.isClickablePrev=!1,n.isClickableNext=!1),n.initUI()},i.$watchCollection("ctrl.slides",function(i){i&&(n.currentSlide>i.length-1&&(n.currentSlide=i.length-1),n.setupInfinite(),n.refreshCarousel())}),angular.element(l).on("resize",this.refreshCarousel),i.$on("$destroy",function(){angular.element(l).off("resize")}),1===angular.version.major&&angular.version.minor<5&&this.$onInit()}]),angular.module("ui.carousel.directives").directive("uiCarousel",["$compile","$templateCache","$sce",function(i,e){return{restrict:"AE",bindToController:!0,scope:{name:"=?",slides:"=",show:"=?slidesToShow",scroll:"=?slidesToScroll",classes:"@",fade:"=?",onChange:"=?",disableArrow:"=?",autoplay:"=?",autoplaySpeed:"=?",cssEase:"=?",speed:"=?",infinite:"=?",arrows:"=?",dots:"=?",initialSlide:"=?",visibleNext:"=?",visiblePrev:"=?",onBeforeChange:"&",onAfterChange:"&",onInit:"&"},link:function(s,o){var t=angular.element(e.get("ui-carousel/carousel.template.html")),l={"carousel-item":".carousel-item","carousel-prev":".carousel-prev","carousel-next":".carousel-next"},n=t.clone();angular.forEach(l,function(i,e){var s=o[0].querySelector(e);s&&angular.element(n[0].querySelector(i)).html(s.innerHTML)});var r=i(n)(s);o.addClass("ui-carousel").html("").append(r)},controller:"CarouselController",controllerAs:"ctrl"}}]),angular.module("ui.carousel.providers").provider("Carousel",function(){var i=this;this.options={arrows:!0,autoplay:!1,autoplaySpeed:3e3,cssEase:"ease",dots:!1,easing:"linear",fade:!1,infinite:!0,initialSlide:0,slidesToShow:1,slidesToScroll:1,speed:500,visiblePrev:!1,visibleNext:!1,draggable:!0,lazyLoad:"ondemand",swipe:!0,swipeToSlide:!1,touchMove:!0,vertical:!1,verticalSwiping:!1},this.$get=[function(){return{setOptions:function(e){i.options=angular.extend(i.options,e)},getOptions:function(){return i.options}}}]}),function(i){try{i=angular.module("ui.carousel")}catch(e){i=angular.module("ui.carousel",[])}i.run(["$templateCache",function(i){i.put("ui-carousel/carousel.template.html",'<div class="carousel-wrapper" ng-show="ctrl.isCarouselReady"><div class="track-wrapper"><div class="track" ng-style="ctrl.trackStyle"><div class="slide" ng-repeat="item in ctrl.slidesInTrack track by $index" ng-style="ctrl.getSlideStyle($index)"><div class="carousel-item"></div></div></div></div><div class="carousel-prev" ng-if="!ctrl.disableArrow" ng-show="ctrl.isVisiblePrev &amp;&amp; ctrl.options.arrows" ng-class="{\'carousel-disable\': !ctrl.isClickablePrev}" ng-click="ctrl.prev()"><button class="carousel-btn"><i class="ui-icon-prev"></i></button></div><div class="carousel-next" ng-if="!ctrl.disableArrow" ng-show="ctrl.isVisibleNext &amp;&amp; ctrl.options.arrows" ng-class="{\'carousel-disable\': !ctrl.isClickableNext}" ng-click="ctrl.next()"><button class="carousel-btn"><i class="ui-icon-next"></i></button></div><ul class="carousel-dots" ng-show="ctrl.isVisibleDots &amp;&amp; ctrl.options.dots"><li ng-repeat="dot in ctrl.getDots()" ng-class="{ \'carousel-active\': dot == ctrl.currentSlide/ctrl.options.slidesToScroll }" ng-click="ctrl.movePage(dot)"><button>{{ dot }}</button></li></ul></div>')}])}();